import{r as c,R as a}from"./index-XjwKth4j.js";function b(){const r=["pic1","pic2","pic3"],l=[".jpg",".jpeg",".png",".svg"],[n,d]=c.useState(r.map(()=>0)),[p,g]=c.useState(r.map(()=>!1)),[o,m]=c.useState(0);c.useEffect(()=>{const t=setInterval(()=>{m(e=>(e+1)%r.length)},3500);return()=>clearInterval(t)},[r.length]);const i=c.useMemo(()=>r.map((t,e)=>({src:`assets/${t}${l[n[e]]}`,blur:`assets/${t}-blur.jpg`,webp:`assets/${t}.webp`,altText:`Memory ${e+1} together`})),[r,l,n]);function E(t){d(e=>{const s=Math.min(e[t]+1,l.length-1);if(s===e[t])return e;const u=[...e];return u[t]=s,u})}function y(t){g(e=>{const s=[...e];return s[t]=!0,s})}return a.createElement("section",{className:"gallery"},a.createElement("h3",{id:"gallery-title"},"Moments Together"),a.createElement("div",{className:"carousel",role:"region","aria-label":"Photo memories carousel"},a.createElement("div",{className:"carousel-viewport"},a.createElement("div",{className:"carousel-track",style:{transform:`translateX(-${o*100}%)`}},i.map((t,e)=>a.createElement("div",{key:e,className:"carousel-slide"},a.createElement("div",{className:"photo portrait"},a.createElement("picture",null,a.createElement("source",{srcSet:t.webp,type:"image/webp"}),a.createElement("img",{className:"main",src:t.src,alt:t.altText,loading:"lazy",decoding:"async",onError:()=>E(e),onLoad:()=>y(e)})),a.createElement("img",{className:`placeholder ${p[e]?"hidden":""}`,src:t.blur,alt:"","aria-hidden":"true",onError:s=>s.target.style.display="none"})))))),a.createElement("div",{className:"carousel-controls"},i.map((t,e)=>a.createElement("button",{key:e,type:"button",className:`dot-btn ${o===e?"active":""}`,onClick:()=>m(e),"aria-label":`Show memory ${e+1}`})))))}export{b as default};
